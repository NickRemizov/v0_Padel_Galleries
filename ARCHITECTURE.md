# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ Padel Galleries

> **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 16 –¥–µ–∫–∞–±—Ä—è 2025
> **–í–µ—Ä—Å–∏—è:** 2.0

---

## üèóÔ∏è –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–∫ —á–µ–º—É —Å—Ç—Ä–µ–º–∏–º—Å—è)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Next.js Frontend (Vercel)                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ –ü—É–±–ª–∏—á–Ω—ã–µ    ‚îÇ  ‚îÇ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚îÇ  ‚îÇ Server       ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ —Å—Ç—Ä–∞–Ω–∏—Ü—ã     ‚îÇ  ‚îÇ              ‚îÇ  ‚îÇ Actions      ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº –í–°–ï –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ FastAPI
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    FastAPI Backend (Hetzner)                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ CRUD API     ‚îÇ  ‚îÇ Recognition  ‚îÇ  ‚îÇ Training     ‚îÇ      ‚îÇ
‚îÇ  ‚îÇ /api/*       ‚îÇ  ‚îÇ /api/recog/* ‚îÇ  ‚îÇ /api/train/* ‚îÇ      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚ñº             ‚ñº             ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  Supabase    ‚îÇ  ‚îÇ Vercel Blob  ‚îÇ  ‚îÇ  InsightFace ‚îÇ
    ‚îÇ  PostgreSQL  ‚îÇ  ‚îÇ   Storage    ‚îÇ  ‚îÇ   + HNSWLIB  ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### ‚ö†Ô∏è –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏)

–°–µ–π—á–∞—Å ~15 —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ Supabase –Ω–∞–ø—Ä—è–º—É—é. –≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å:
- –ï–¥–∏–Ω–æ–π —Ç–æ—á–∫–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—è
- –í–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**–ü—Ä–æ–≥—Ä–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏:** —Å–º. `docs/ROADMAP.md`

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
v0_Padel_Galleries/
‚îú‚îÄ‚îÄ app/                          # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ (public)/                # –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx             # –ì–ª–∞–≤–Ω–∞—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gallery/[id]/        # –ì–∞–ª–µ—Ä–µ—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ players/             # –ò–≥—Ä–æ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ admin/                   # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx             # –ì–ª–∞–≤–Ω–∞—è –∞–¥–º–∏–Ω–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ actions/             # Server Actions ‚≠ê
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ galleries.ts     # CRUD –≥–∞–ª–µ—Ä–µ–π
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ people.ts        # CRUD –∏–≥—Ä–æ–∫–æ–≤
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ cleanup.ts       # –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ integrity.ts     # –ü—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ api/                     # Next.js API Routes (proxy)
‚îÇ       ‚îî‚îÄ‚îÄ face-detection/      # –ü—Ä–æ–∫—Å–∏ –∫ FastAPI
‚îÇ
‚îú‚îÄ‚îÄ components/                   # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ admin/                   # –ê–¥–º–∏–Ω-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (~30 —Ñ–∞–π–ª–æ–≤)
‚îÇ   ‚îî‚îÄ‚îÄ ui/                      # shadcn/ui
‚îÇ
‚îú‚îÄ‚îÄ lib/                         # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ apiClient.ts             # –ö–ª–∏–µ–Ω—Ç FastAPI (apiFetch) ‚≠ê
‚îÇ   ‚îî‚îÄ‚îÄ supabase/                # Supabase –∫–ª–∏–µ–Ω—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ python/                      # FastAPI Backend ‚≠ê
‚îÇ   ‚îú‚îÄ‚îÄ main.py                  # Entry point
‚îÇ   ‚îú‚îÄ‚îÄ core/                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ routers/                 # API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ galleries.py         # /api/galleries
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ people.py            # /api/people
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ faces.py             # /api/faces
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ recognition/         # /api/recognition/*
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ training.py          # /api/v2/training
‚îÇ   ‚îú‚îÄ‚îÄ services/                # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ face_recognition.py  # InsightFace
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hnsw_index.py        # –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ training_service.py  # –û–±—É—á–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ repositories/            # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ docs/                    # Backend –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ docs/                        # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚≠ê
‚îÇ   ‚îú‚îÄ‚îÄ PROJECT_CONTEXT.md       # –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è AI
‚îÇ   ‚îú‚îÄ‚îÄ DATABASE_SCHEMA.md       # –°—Ö–µ–º–∞ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ ROADMAP.md               # –ü–ª–∞–Ω —Ä–∞–±–æ—Ç
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îî‚îÄ‚îÄ migrations/                  # SQL –º–∏–≥—Ä–∞—Ü–∏–∏
```

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ö–ª—é—á–µ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã

```
cities                          # –ú—É–ª—å—Ç–∏–≥–æ—Ä–æ–¥–Ω–æ—Å—Ç—å
  ‚îî‚îÄ‚îÄ locations                 # –ü–ª–æ—â–∞–¥–∫–∏/–∫–ª—É–±—ã
        ‚îî‚îÄ‚îÄ galleries           # –ì–∞–ª–µ—Ä–µ–∏ —Å–æ–±—ã—Ç–∏–π
              ‚îî‚îÄ‚îÄ gallery_images    # –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
                    ‚îî‚îÄ‚îÄ photo_faces # –õ–∏—Ü–∞ + —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ ‚≠ê
                          ‚îî‚îÄ‚îÄ people    # –ò–≥—Ä–æ–∫–∏
```

### photo_faces ‚Äî –≥–ª–∞–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | PK |
| `photo_id` | uuid | FK ‚Üí gallery_images |
| `person_id` | uuid | FK ‚Üí people (nullable) |
| `insightface_descriptor` | vector(512) | **–≠–º–±–µ–¥–¥–∏–Ω–≥ –ª–∏—Ü–∞** |
| `insightface_bbox` | jsonb | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ª–∏—Ü–∞ |
| `insightface_confidence` | float | –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –¥–µ—Ç–µ–∫—Ü–∏–∏ |
| `recognition_confidence` | float | –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è |
| `verified` | boolean | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –≤—Ä—É—á–Ω—É—é |
| `blur_score` | float | –†–µ–∑–∫–æ—Å—Ç—å |

> ‚ö†Ô∏è **DEPRECATED:** –¢–∞–±–ª–∏—Ü–∞ `face_descriptors` –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –≤ `face_descriptors_DEPRECATED`. 
> –í—Å–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —Ç–µ–ø–µ—Ä—å –≤ `photo_faces.insightface_descriptor`.

**–ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞:** `docs/DATABASE_SCHEMA.md`

---

## üîÑ –ö–ª—é—á–µ–≤—ã–µ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ

```
–ê–¥–º–∏–Ω ‚Üí Drag&Drop ‚Üí uploadAction() ‚Üí Vercel Blob ‚Üí URL –≤ gallery_images
```

### 2. –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∏—Ü

```
–ö–Ω–æ–ø–∫–∞ "–†–∞—Å–ø–æ–∑–Ω–∞—Ç—å" 
    ‚Üí /api/face-detection/detect (Next.js proxy)
    ‚Üí FastAPI /detect-faces
    ‚Üí InsightFace –¥–µ—Ç–µ–∫—Ü–∏—è
    ‚Üí –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è (size, blur, confidence)
    ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ photo_faces + insightface_descriptor
```

### 3. –ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –ª–∏—Ü

```
FastAPI /recognize-face
    ‚Üí –ó–∞–≥—Ä—É–∑–∫–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞
    ‚Üí HNSWLIB –ø–æ–∏—Å–∫ –≤ –∏–Ω–¥–µ–∫—Å–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ª–∏—Ü
    ‚Üí –í–æ–∑–≤—Ä–∞—Ç person_id + confidence
```

### 4. –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö

```
–ö–Ω–æ–ø–∫–∞ "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ª–∏—Ü–∞"
    ‚Üí FastAPI /training/cluster-unverified-faces
    ‚Üí HDBSCAN –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ similarity
    ‚Üí –í–æ–∑–≤—Ä–∞—Ç –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –≤ UI
```

---

## ü§ñ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∏—Ü

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|------------|
| –î–µ—Ç–µ–∫—Ü–∏—è | InsightFace (antelopev2) | –ù–∞—Ö–æ–¥–∏—Ç –ª–∏—Ü–∞ –Ω–∞ —Ñ–æ—Ç–æ |
| –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ | InsightFace | 512-–º–µ—Ä–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä—ã |
| –ü–æ–∏—Å–∫ | HNSWLIB | –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö |
| –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è | HDBSCAN | –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------------|----------|
| `min_face_size` | 80 px | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ª–∏—Ü–∞ |
| `min_blur_score` | 100 | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–µ–∑–∫–æ—Å—Ç—å |
| `min_detection_score` | 0.7 | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –¥–µ—Ç–µ–∫—Ü–∏–∏ |

**–ì–¥–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:** –ê–¥–º–∏–Ω–∫–∞ ‚Üí Face Training Manager

---

## üöÄ –î–µ–ø–ª–æ–π–º–µ–Ω—Ç

### Frontend (Vercel)

- Auto-deploy –ø—Ä–∏ push –≤ main
- Preview deploys –¥–ª—è –≤–µ—Ç–æ–∫
- Environment variables –≤ Vercel Dashboard

### Backend (Hetzner)

- **URL:** http://vlcpadel.com:8001
- **Health:** `curl http://vlcpadel.com:8001/health`
- **–õ–æ–≥–∏:** `tail -f /tmp/fastapi.log`
- **–†–µ—Å—Ç–∞—Ä—Ç:** `./python/restart.sh`

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: `python/DEPLOYMENT.md`

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

| –î–æ–∫—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `docs/PROJECT_CONTEXT.md` | –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è AI |
| `docs/DATABASE_SCHEMA.md` | –ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞ –ë–î |
| `docs/ROADMAP.md` | –ü–ª–∞–Ω —Ä–∞–±–æ—Ç |
| `docs/RECOGNITION_SUMMARY.md` | –ö—Ä–∞—Ç–∫–æ–µ –æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–∏ |
| `RECOGNITION_PROCESS_DOCUMENTATION.md` | –î–µ—Ç–∞–ª–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è |
| `python/docs/API_MIGRATION_STATUS.md` | –°—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–∏ API |
