# –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ª–∏—Ü

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 16 —Ñ–µ–≤—Ä–∞–ª—è 2025  
**–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã:** 5.0  
**–í–µ—Ä—Å–∏—è –∞–¥–º–∏–Ω–ø–∞–Ω–µ–ª–∏:** 1.1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–¢–ê–ë–ò–õ–¨–ù–ê–Ø

---

## –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (v1.1.0) - –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –†–ï–§–ê–ö–¢–û–†–ò–ù–ì

### üîÑ –§–∞–∑–∞ 1: –ì–∏–±—Ä–∏–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ù–∞—á–∞—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏—è –∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –≥–¥–µ FastAPI —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –ø—Ä–∞–≤–¥—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö:

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å –ª–∏—Ü–∞–º–∏ (`photo_faces`) —Ç–µ–ø–µ—Ä—å –∏–¥–µ—Ç —á–µ—Ä–µ–∑ FastAPI `/api/faces/save`
- ‚úÖ –ò–Ω–¥–µ–∫—Å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ª–∏—Ü
- ‚úÖ **–†–ï–®–ï–ù–ê –ü–†–û–ë–õ–ï–ú–ê:** –ò–¥–µ–Ω—Ç–∏—á–Ω—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç–µ–ø–µ—Ä—å —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è —Å 100% –≤–º–µ—Å—Ç–æ 81%
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–∞–±–æ—Ç—ã —Å Supabase (withSupabase –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, Result<T> —Ç–∏–ø)
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ logger –≤–º–µ—Å—Ç–æ console.log

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–≥–∏–±—Ä–∏–¥–Ω–∞—è):**
- üîÑ **–ß–µ—Ä–µ–∑ FastAPI:** photo_faces, face_descriptors, —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ, –æ–±—É—á–µ–Ω–∏–µ
- üìä **–ù–∞–ø—Ä—è–º—É—é Supabase:** galleries, people, metadata, –ø—É–±–ª–∏—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- –°–æ–∑–¥–∞–Ω —Ä–æ—É—Ç–µ—Ä `python/routers/faces.py` —Å endpoints `/api/faces/save`, `/update`, `/delete`
- –î–µ–∫–æ—Ä–∞—Ç–æ—Ä `withSupabase` –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è server actions
- –¢–∏–ø `Result<T>` –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —É—Å–ø–µ—Ö–æ–≤/–æ—à–∏–±–æ–∫
- Logger —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π NODE_ENV (debug —Ç–æ–ª—å–∫–æ –≤ development)

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
- –§–∞–∑–∞ 2: –î–æ–±–∞–≤–∏—Ç—å endpoints –¥–ª—è galleries, people, metadata –Ω–∞ FastAPI
- –§–∞–∑–∞ 3: –ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ FastAPI
- –§–∞–∑–∞ 4: –£–¥–∞–ª–∏—Ç—å –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã Supabase —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

---

## –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç


### ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–∞–ª–µ—Ä–µ—è–º–∏ —Å–æ–±—ã—Ç–∏–π (v0.7.0-1.0.0)

15. **–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å–æ–±—ã—Ç–∏–π**
    - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –≥–∞–ª–µ—Ä–µ–∏
    - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ (drag & drop, –∫–Ω–æ–ø–∫–∞)
    - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ (–ø–∞–∫–µ—Ç–Ω–æ–µ)
    - –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ª–∏—Ü–∞ (–∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è)
    - –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ (–≤—Å–µ –∏–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ)
    - ‚úÖ **Sticky header** - "—à–∞–ø–∫–∞" –≥–∞–ª–µ—Ä–µ–∏ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ (v0.7.1-0.7.2)
    - ‚úÖ **–í—ã–±–æ—Ä –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ** - —á–µ–∫–±–æ–∫—Å—ã –¥–ª—è –≤—ã–±–æ—Ä–∞, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è (v0.7.3)
    - ‚úÖ **–î–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è** - —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö/–≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ (v0.7.3-0.7.4)
    - ‚úÖ **–ö–ª–∏–∫ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É –≥–∞–ª–µ—Ä–µ–∏** - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≥–∞–ª–µ—Ä–µ—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ (v0.8.0)

### ‚úÖ –ì–∞–ª–µ—Ä–µ—è –∏–≥—Ä–æ–∫–∞ (v0.7.9-1.0.0)

16. **–£–ª—É—á—à–µ–Ω–∏—è –≥–∞–ª–µ—Ä–µ–∏ –∏–≥—Ä–æ–∫–∞**
    - ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è** - "–£–¥–∞–ª–∏—Ç—å –∏–≥—Ä–æ–∫–∞ —Å –•–• —Ñ–æ—Ç–æ" –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —á–µ–∫–±–æ–∫—Å–æ–≤ (v0.7.9)
    - ‚úÖ **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–¥ —Ñ–æ—Ç–æ** - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏ "–ù–∞–∑–≤–∞–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–∏ –î–î.–ú–ú" (v0.7.9-0.8.1)
    - ‚úÖ **–ö–ª–∏–∫ –Ω–∞ –∞–≤–∞—Ç–∞—Ä** - –≤ —Ä–∞–∑–¥–µ–ª–µ "–õ—é–¥–∏" –∫–ª–∏–∫ –Ω–∞ –∞–≤–∞—Ç–∞—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≥–∞–ª–µ—Ä–µ—é (v0.7.9)
    - ‚úÖ **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –∫–Ω–æ–ø–∫–∏** - –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –Ω–µ –º–µ–Ω—è–µ—Ç —Ä–∞–∑–º–µ—Ä (v0.7.9)
    - ‚úÖ **–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞** - —Ç–µ–∫—Å—Ç –≤ –∫–Ω–æ–ø–∫–µ —É–¥–∞–ª–µ–Ω–∏—è –≤—ã—Ä–æ–≤–Ω–µ–Ω –ø–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é (v0.7.9)


### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã


11. ~~Tooltip –Ω–∞ –∫–Ω–æ–ø–∫–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –æ–∫–Ω–µ —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è~~ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (v0.7.6-0.7.8)
12. ~~–ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –≥–∞–ª–µ—Ä–µ–∏~~ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (v0.8.1)
13. ~~–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–ª–∏–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É –≥–∞–ª–µ—Ä–µ–∏~~ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (v0.8.0)
14. ~~–û–ø–µ—á–∞—Ç–∫–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (imagesToToInsert, tagsToToInsert)~~ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (v0.7.9)
15. ~~Race condition –ø—Ä–∏ batch —É–¥–∞–ª–µ–Ω–∏–∏~~ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (v1.0.0)
16. ~~Orphaned face descriptors –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∏–≥—Ä–æ–∫–æ–≤~~ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (v1.0.0)
17. ~~N+1 query –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è~~ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (v1.0.0)
18. ~~–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏~~ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (v1.0.0)
19. ~~–ë–∏—Ç—ã–µ —Ñ–∞–π–ª—ã –ª–æ–º–∞—é—Ç –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏~~ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (v1.0.0)


## –í–µ—Ä—Å–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–§—Ä–æ–Ω—Ç–µ–Ω–¥:**
- `app/admin/page.tsx` - v1.1.0
- `components/admin/galleries-manager.tsx` - v1.1.0 (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è)
- `components/admin/gallery-images-manager.tsx` - v0.9.0
- `components/admin/person-gallery-dialog.tsx` - v0.8.1
- `components/admin/person-list.tsx` - v0.7.9
- `components/admin/gallery-list.tsx` - v0.8.0
- `components/admin/face-tagging-dialog.tsx` - v3.11
- `components/admin/auto-recognition-dialog.tsx` - v3.15
- `components/admin/unknown-faces-review-dialog.tsx` - v3.10
- `components/admin/database-integrity-checker.tsx` - v5.0
- `app/admin/actions.ts` - v1.1 (—á–∞—Å—Ç–∏—á–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–≤—ã—Ö 3 —Ñ—É–Ω–∫—Ü–∏–π), deletePersonAction v4.2, getRecognitionStatsAction v1.0, deleteAllGalleryImagesAction v5.0
- `lib/apiClient.ts` - v2.0
- `lib/logger.ts` - v2.0 (UPDATED - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ NODE_ENV)
- `lib/debounce.ts` - v1.0
- `lib/supabase/with-supabase.ts` - v1.0 (NEW - –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è server actions)
- `lib/supabase/server.ts` - v2.0 (UPDATED - —É–±—Ä–∞–Ω –≤–æ–∑–≤—Ä–∞—Ç null)
- `lib/supabase/client.ts` - v2.0 (UPDATED - —É–±—Ä–∞–Ω—ã non-null assertions)
- `lib/types/result.ts` - v1.0 (NEW - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–∏–ø Result<T>)


**Backend (Python/FastAPI):**
- `python/routers/faces.py` - v1.0 (**NEW** - CRUD –¥–ª—è –ª–∏—Ü —á–µ—Ä–µ–∑ FastAPI)
- `python/main.py` - v3.2.9 (**UPDATED** - –¥–æ–±–∞–≤–ª–µ–Ω —Ä–æ—É—Ç–µ—Ä faces)
- `python/services/face_recognition.py` - v3.2.8
- `python/services/supabase_database.py` - v3.2.6

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1 —Ñ–µ–≤—Ä–∞–ª—è 2025  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 16 —Ñ–µ–≤—Ä–∞–ª—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.1.0  
**–°–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–π —Ñ–∞–∑—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
