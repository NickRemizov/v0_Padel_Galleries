# –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ Galeries

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 25 –Ω–æ—è–±—Ä—è 2025
**–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã:** 5.1
**–°—Ç–∞—Ç—É—Å:** üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –í–∞—Ä–∏–∞–Ω—Ç –í

---

## –¢–µ–∫—É—â–∞—è –∑–∞–¥–∞—á–∞

**–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É "–í–∞—Ä–∏–∞–Ω—Ç –í"** - –≤—Å—è —Ä–∞–±–æ—Ç–∞ —Å –ë–î —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Python API.

### –ü—Ä–æ–≥—Ä–µ—Å—Å:
- ‚úÖ –≠—Ç–∞–ø 1: Python CRUD API - –ó–ê–í–ï–†–®–Å–ù
- ‚úÖ –≠—Ç–∞–ø 2: Next.js API –∫–ª–∏–µ–Ω—Ç - –ó–ê–í–ï–†–®–Å–ù
- üîÑ –≠—Ç–∞–ø 3: –ú–∏–≥—Ä–∞—Ü–∏—è actions.ts - –í –ü–†–û–¶–ï–°–°–ï
- ‚è≥ –≠—Ç–∞–ø 4: –ú–∏–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚è≥ –≠—Ç–∞–ø 5: –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚è≥ –≠—Ç–∞–ø 6: –û—á–∏—Å—Ç–∫–∞

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—Ü–µ–ª–µ–≤–∞—è)

\`\`\`
Browser ‚Üí Next.js ‚Üí Server Actions ‚Üí Python API ‚Üí PostgreSQL
\`\`\`

**–ü—Ä–∞–≤–∏–ª–æ:** –ù–∏–∫–∞–∫–æ–≥–æ –ø—Ä—è–º–æ–≥–æ SQL –≤ Next.js!

---

## –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### Python API (`/api/crud/*`)
- ‚úÖ Galleries CRUD
- ‚úÖ Photographers CRUD
- ‚úÖ Locations CRUD
- ‚úÖ Organizers CRUD
- ‚úÖ People CRUD
- ‚úÖ Recognition Stats

### Next.js API –∫–ª–∏–µ–Ω—Ç (`lib/api/index.ts`)
- ‚úÖ –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Python API
- ‚úÖ –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/test-api` —Ä–∞–±–æ—Ç–∞–µ—Ç

### –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∏—Ü
- ‚úÖ –î–µ—Ç–µ–∫—Ü–∏—è –ª–∏—Ü (InsightFace)
- ‚úÖ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ (HNSWLIB)
- ‚úÖ –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö (HDBSCAN)
- ‚úÖ –ü–∞–∫–µ—Ç–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ

---

## –°–µ—Ä–≤–µ—Ä—ã

### Python –±—ç–∫–µ–Ω–¥
- **–°–µ—Ä–≤–µ—Ä:** ubuntu-16gb-nbg1-1
- **–ü—É—Ç—å:** `/home/nickr/python/`
- **–ü–æ—Ä—Ç:** 8001
- **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:** `./run.sh`
- **–õ–æ–≥–∏:** `tail -50 /tmp/fastapi.log`

### Next.js —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
- **–•–æ—Å—Ç–∏–Ω–≥:** Vercel
- **–î–µ–ø–ª–æ–π:** Publish –≤ v0

---

## –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|------|----------|--------|
| `python/routers/crud.py` | CRUD API | ‚úÖ –ì–æ—Ç–æ–≤ |
| `lib/api/index.ts` | API –∫–ª–∏–µ–Ω—Ç | ‚úÖ –ì–æ—Ç–æ–≤ |
| `app/admin/actions.ts` | Server Actions | üîÑ –ú–∏–≥—Ä–∏—Ä—É–µ—Ç—Å—è |
| `app/page.tsx` | –ì–ª–∞–≤–Ω–∞—è | ‚è≥ –û–∂–∏–¥–∞–µ—Ç |

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –¥–æ—Å—Ç—É–ø—ã

- **SSH:** `ssh root@SERVER_IP`
- **–ü—É—Ç—å Python:** `/home/nickr/python/`
- **–ë–î:** PostgreSQL (Supabase hosted)

---

## –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

**–≠—Ç–∞–ø 3:** –ú–∏–≥—Ä–∞—Ü–∏—è `app/admin/actions.ts` –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `lib/api/index.ts` –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ SQL.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–∞—Ç—å –≤ –Ω–æ–≤–æ–º —á–∞—Ç–µ —Å —á–∏—Å—Ç—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º.
